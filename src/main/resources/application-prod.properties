# ============================================================
# CONFIGURACIÓN DE PRODUCCIÓN PARA RAILWAY
# ============================================================

# Puerto dinámico: Railway asigna un puerto automáticamente
server.port=${PORT:8080}

# URL de conexión a MySQL: Railway crea esta variable automáticamente
spring.datasource.url=${DATABASE_URL}

# Driver específico para MySQL 8.0+
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hibernate: 'update' crea/actualiza tablas automáticamente
spring.jpa.hibernate.ddl-auto=update

# No mostrar SQL en logs de producción
spring.jpa.show-sql=false

# Dialecto para MySQL 8
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# ============================================================
# CONFIGURACIÓN VAADIN PARA PRODUCCIÓN
# ============================================================

# Activar modo producción
vaadin.productionMode=true

# Desactivar pnpm
vaadin.pnpm.enable=false

# ============================================================
# LOGGING OPTIMIZADO PARA PRODUCCIÓN
# ============================================================

# Nivel general: solo ERROR
logging.level.root=ERROR

# Tu aplicación: solo WARN para capturar problemas sin saturar logs
logging.level.com.ElihuAnalytics.ConsultorioAcupuntura=WARN

# Frameworks: solo ERROR para minimizar logs
logging.level.org.springframework=ERROR
logging.level.com.vaadin=ERROR
logging.level.org.hibernate=ERROR
logging.level.org.springframework.orm.jpa=ERROR

# Formato de logs limpio
logging.pattern.console=%d{HH:mm:ss} %-5level %logger{36} - %msg%n

# ============================================================
# POOL DE CONEXIONES OPTIMIZADO
# ============================================================

spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# ============================================================
# OPTIMIZACIONES DE SERVIDOR
# ============================================================

server.compression.enabled=true
server.compression.mime-types=text/html,text/css,application/javascript,application/json